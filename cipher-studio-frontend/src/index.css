/* A modern CSS reset */
*, *::before, *::after { box-sizing: border-box; }
:root {
  /* NEW Black and Neon Green-Yellow Theme Colors */
  --background: #121212;
  --surface: #1E1E1E;
  --border: #2C2C2C;
  --text-primary: #EAEAEA;
  --text-secondary: #888888;
  --accent: #D8FF00;
  --success: #2ECC71;
  --error: #E74C3C; /* Red color used for delete button */
  --header-height: 50px;
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  background-color: var(--background);
  color: var(--text-primary);
  overflow: hidden;
}

/* --- Auth Page --- */
.auth-container { display: flex; justify-content: center; align-items: center; height: 100vh; }
.auth-card { background: var(--surface); padding: 40px; border-radius: 8px; width: 100%; max-width: 400px; text-align: center; }
.auth-card h1, .auth-card h2 { margin-top: 0; color: var(--text-primary); }
.auth-card form { display: flex; flex-direction: column; gap: 15px; margin-top: 20px; }
.auth-card input { padding: 12px; border-radius: 4px; border: 1px solid var(--border); background-color: var(--background); color: var(--text-primary); font-size: 1rem; }
.auth-card button { padding: 12px; border-radius: 4px; border: none; background-color: var(--accent); color: #121212; font-weight: bold; font-size: 1rem; cursor: pointer; margin-top: 10px; transition: background-color 0.2s; }
.auth-card button:hover { background-color: #BADA00; }
.auth-card p { cursor: pointer; color: var(--accent); margin-top: 20px; }
.auth-card p:hover { text-decoration: underline; }

/* --- Main IDE Layout --- */
.app-container { display: flex; flex-direction: column; height: 100vh; }
.main-layout { display: flex; flex-grow: 1; height: calc(100vh - var(--header-height)); }
.loading-screen { display: flex; justify-content: center; align-items: center; height: 100vh; font-size: 1.5rem; color: var(--text-secondary); }

/* --- Resizable Panels --- */
.resize-handle { background-color: var(--border); width: 5px; cursor: col-resize; transition: background-color 0.2s; }
.resize-handle[data-resizing], .resize-handle:hover { background-color: var(--accent); }

/* --- Header --- */
.app-header { height: var(--header-height); background-color: var(--surface); border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; padding: 0 20px; gap: 20px; flex-shrink: 0; }
.header-left, .header-right { display: flex; align-items: center; gap: 20px; }
.app-header h2 { margin: 0; font-size: 1.2rem; color: var(--text-primary); }
.project-name-input { background: var(--background); border: 1px solid var(--border); color: var(--text-primary); padding: 6px 10px; border-radius: 4px; width: 250px; font-size: 0.95rem; }
.project-name-input:focus { outline: none; border-color: var(--accent); }
.header-button { background: none; border: 1px solid var(--border); color: var(--text-secondary); padding: 6px 12px; border-radius: 4px; cursor: pointer; display: flex; align-items: center; gap: 8px; font-size: 0.9rem; transition: all 0.2s ease; }
.header-button:hover { background-color: #2C2C2C; color: var(--text-primary); border-color: #444; }
.header-button.primary { background-color: var(--accent); border-color: var(--accent); color: #121212; font-weight: bold; }
.header-button.primary:hover { background-color: #BADA00; border-color: #BADA00; }
.user-info { display: flex; align-items: center; gap: 15px; color: var(--text-secondary); }
.user-info .lucide { color: var(--text-secondary); }

/* --- Project Dropdown --- */
.project-dropdown { position: relative; display: inline-block; }
.dropdown-button { background-color: var(--surface); color: var(--text-secondary); padding: 8px 12px; font-size: 0.9rem; border: 1px solid var(--border); cursor: pointer; border-radius: 4px; display: flex; align-items: center; gap: 5px; transition: all 0.2s ease; }
.dropdown-button:hover { background-color: #2C2C2C; color: var(--text-primary); border-color: #444; }
.dropdown-content { display: none; position: absolute; background-color: var(--surface); min-width: 220px; max-height: 300px; overflow-y: auto; box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.4); z-index: 10; border: 1px solid var(--border); border-radius: 4px; padding: 5px 0; right: 0; top: calc(100% + 5px); }

/* -- Styles for project items with delete button -- */
.project-item { display: flex; justify-content: space-between; align-items: center; padding: 0 5px 0 15px; transition: background-color 0.2s; }
.project-item .project-name { color: var(--text-primary); text-decoration: none; display: block; font-size: 0.9rem; cursor: pointer; padding: 10px 0; flex-grow: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.project-item .delete-btn { background: none; border: none; color: var(--text-secondary); padding: 8px; border-radius: 4px; cursor: pointer; margin-left: 10px; flex-shrink: 0; opacity: 0; /* Hide initially */ transition: opacity 0.2s, color 0.2s, background-color 0.2s; }
.project-item:hover { background-color: #2C2C2C; }
.project-item:hover .project-name { color: var(--text-primary); }
.project-item:hover .delete-btn { opacity: 1; /* Show on hover */ }
.project-item .delete-btn:hover { color: var(--error); background-color: rgba(231, 76, 60, 0.2); }
/* -- END -- */

.dropdown-content .placeholder { color: var(--text-secondary); font-style: italic; cursor: default; padding: 10px 15px; }
.project-dropdown:hover .dropdown-content { display: block; }

/* --- File Explorer --- */
.file-explorer { width: 100%; height: 100%; background-color: var(--surface); padding: 10px; overflow-y: auto; }
.file-explorer-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding: 0 5px; }
.file-explorer-header h3 { margin: 0; font-size: 0.9rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; color: var(--text-secondary); }
.file-explorer-header button { background: none; border: none; color: var(--text-secondary); cursor: pointer; padding: 4px; border-radius: 4px; transition: all 0.2s ease; }
.file-explorer-header button:hover { color: var(--text-primary); background-color: #2C2C2C; }
.file-explorer ul { list-style: none; padding: 0; margin: 0; }
.file-item { display: flex; align-items: center; gap: 8px; padding: 8px 10px; cursor: pointer; border-radius: 4px; font-size: 0.9rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; transition: background-color 0.2s; }
.file-item:hover { background-color: #2C2C2C; }
.file-item.active { background-color: var(--accent); color: #121212; }
.file-icon { flex-shrink: 0; color: var(--text-secondary); }
.file-item.active .file-icon { color: #121212; }

/* --- Editor Container --- */
.editor-container { flex-grow: 1; height: 100%; }
.sp-layout { border: none !important; height: 100% !important; border-radius: 0 !important; overflow: hidden !important; }
.sp-editor { height: 100% !important; background-color: var(--background) !important; }
.sp-preview { height: 100% !important; background-color: var(--background) !important; border-left: 1px solid var(--border) !important; }

/* --- New File Modal --- */
.modal-backdrop { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0, 0, 0, 0.7); display: flex; justify-content: center; align-items: center; z-index: 1000; }
.modal-content { background: var(--surface); border: 1px solid var(--border); padding: 25px; border-radius: 8px; width: 100%; max-width: 500px; box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
.modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
.modal-header h3 { margin: 0; color: var(--text-primary); font-size: 1.2rem; }
.modal-close-btn { background: none; border: none; color: var(--text-secondary); cursor: pointer; padding: 5px; border-radius: 4px; transition: color 0.2s, background-color 0.2s; }
.modal-close-btn:hover { color: var(--text-primary); background-color: var(--border); }
.new-file-modal { display: flex; flex-direction: column; gap: 15px; }
.new-file-modal input { padding: 12px; background: var(--background); border: 1px solid var(--border); color: var(--text-primary); border-radius: 4px; font-size: 1rem; }
.new-file-modal input:focus { outline: none; border-color: var(--accent); }
.new-file-modal button { padding: 10px 15px; background: var(--accent); color: #121212; font-weight: bold; border: none; border-radius: 4px; cursor: pointer; font-size: 1rem; align-self: flex-end; transition: background-color 0.2s; }
.new-file-modal button:hover { background-color: #BADA00; }

/* --- Delete Confirmation Modal Styles --- */
.delete-confirm-modal p { margin: 0 0 10px 0; font-size: 1rem; line-height: 1.5; color: var(--text-primary); }
.delete-confirm-modal p:last-of-type { font-size: 0.9rem; color: var(--text-secondary); margin-top: 15px; margin-bottom: 25px; }
.delete-confirm-modal strong { color: var(--accent); font-weight: bold; }
.delete-confirm-buttons { display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px; }
.btn-secondary, .btn-danger { padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer; font-size: 0.9rem; font-weight: bold; transition: background-color 0.2s, opacity 0.2s; }
.btn-secondary { background-color: var(--border); color: var(--text-primary); }
.btn-secondary:hover { background-color: #444; }
.btn-danger { background-color: var(--error); color: white; }
.btn-danger:hover { background-color: #c0392b; /* Darker red */ }
/* --- END Delete Styles --- */

/* --- Toast Notifications --- */
.toast { position: fixed; bottom: 20px; right: 20px; padding: 12px 20px; border-radius: 6px; color: white; display: flex; align-items: center; gap: 10px; box-shadow: 0 3px 10px rgba(0,0,0,0.2); z-index: 2000; animation: toast-in 0.3s ease forwards, toast-out 0.3s ease forwards 2.7s; min-width: 250px; }
.toast-success { background-color: var(--success); }
.toast-error { background-color: var(--error); }
.toast-icon { flex-shrink: 0; }
@keyframes toast-in { from { transform: translateX(120%); } to { transform: translateX(0); } }
@keyframes toast-out { from { transform: translateX(0); } to { transform: translateX(120%); } }